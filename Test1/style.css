:root{
  --card-bg:#ffffff;
  --body-bg:#f3f5f8;
  --text:#2b2f36;
  --muted:#6b7280;
  --ok:#22c55e;      /* green */
  --warn:#f59e0b;    /* amber */
  --danger:#ef4444;  /* red */
  --track:#e5e7eb;   /* light gray */
  --ring:#cbd5e1;    /* slightly darker track ring */
}

*{box-sizing:border-box}
body{
  margin:0; padding:24px;
  font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Arial;
  background:var(--body-bg); color:var(--text);
  display:flex; flex-direction:column; align-items:center; gap:24px;
}

h1{margin:0 0 6px 0; font-weight:700; letter-spacing:.2px}

.card{
  background:var(--card-bg);
  padding:20px;
  border-radius:16px;
  box-shadow:0 10px 30px rgba(2,6,23,.08);
  width:min(680px, 94vw);
}

.gauge-card{ display:flex; flex-direction:column; align-items:center; gap:8px; }

/* Gauge layout */
.gauge{
  position:relative;
  width:320px;         /* diameter */
  height:160px;        /* radius (semi-circle) */
  border-radius:320px 320px 0 0;
  overflow:hidden;
  background:radial-gradient(circle at 50% 100%, var(--ring) 0 4px, transparent 4px);
}

/* Static neutral track */
.gauge .track{
  position:absolute; inset:0;
  background:
    radial-gradient(circle at 50% 100%, transparent 0 118px, var(--track) 118px 124px, transparent 124px);
}

/* Optional colored zone band (thin ring) using conic-gradient */
.gauge .zones{
  --warnPos: 0.7;   /* fraction (warnAt mapped to 0..1) */
  --dangerPos: 0.9; /* fraction (dangerAt mapped to 0..1) */
  position:absolute; inset:0;
  background:
    conic-gradient(
      from 180deg,
      var(--ok) 0deg calc(180deg * var(--warnPos)),
      var(--warn) calc(180deg * var(--warnPos)) calc(180deg * var(--dangerPos)),
      var(--danger) calc(180deg * var(--dangerPos)) 180deg,
      transparent 180deg
    );
  -webkit-mask: linear-gradient(#000 0 50%, transparent 50%); /* show top half */
          mask: linear-gradient(#000 0 50%, transparent 50%);
  opacity:.25;
}

/* Ticks */
.gauge .ticks{ position:absolute; inset:0; }
.tick{
  position:absolute;
  left:50%; bottom:0;
  width:2px; height:140px;
  transform-origin:center bottom;
}
.tick::before{
  content:""; position:absolute; top:0; left:-1px;
  width:2px; height:10px; background:#8e96a3; border-radius:2px;
}
.tick.major::before{ height:16px; background:#3b4250; }
.tick .label{
  position:absolute; top:18px; left:-18px; width:36px;
  text-align:center; font-size:12px; color:var(--muted);
  transform: rotate(var(--label-rot, 0deg));
}

/* Needle */
.needle{
  position:absolute; left:50%; bottom:0;
  width:4px; height:128px;
  transform-origin:center bottom;
  background:linear-gradient(#111, #333);
  border-radius:4px;
  transform: rotate(-90deg);
  transition: transform .6s cubic-bezier(.22,.91,.3,1);
  box-shadow:0 -1px 0 rgba(0,0,0,.35) inset;
}
/* Needle cap */
.hub{
  position:absolute; left:50%; bottom:0; transform:translate(-50%, 10px);
  width:22px; height:22px; border-radius:50%;
  background:#111; box-shadow:0 0 0 4px #fff, 0 2px 8px rgba(0,0,0,.25);
}

/* Current value text */
.readout{
  margin-top:6px; font-size:18px; color:var(--text);
}
.readout .value{ font-weight:700; font-variant-numeric:tabular-nums; }
.readout .unit{ color:var(--muted); margin-left:4px; }

/* State coloring (needle glow + text accent) */
.gauge.ok .needle{ box-shadow:0 0 12px 2px color-mix(in oklab, var(--ok) 40%, transparent); }
.gauge.warn .needle{ box-shadow:0 0 12px 2px color-mix(in oklab, var(--warn) 40%, transparent); }
.gauge.danger .needle{ box-shadow:0 0 12px 2px color-mix(in oklab, var(--danger) 45%, transparent); }

.title{
  font-weight:600; margin-bottom:6px; color:#384152;
  letter-spacing:.2px;
}

/* Controls (demo) */
.controls{
  display:flex; align-items:center; gap:10px; margin-top:14px;
}
.controls input[type="range"]{ width:280px; }
.controls output{ min-width:40px; display:inline-block; text-align:right; font-variant-numeric:tabular-nums; }
.controls .unit{ color:var(--muted); margin-left:4px; }
